# GitHub Copilot Instructions - General Architecture

## Scope

This directory contains **cloud-agnostic** architecture documentation covering software design patterns, distributed systems concepts, and best practices applicable across any platform.

## Foundational Reference

> **IMPORTANT**: All documentation in this directory MUST align with the **Architecture Taxonomy Reference**:
> 
> ðŸ“– **[architecture_taxonomy_reference.md](10-practicality-taxonomy/architecture_taxonomy_reference.md)**
>
> This taxonomy is the **canonical source** for architecture terminology, categories, and classification. Any new documentation or structural changes must be synchronized with this reference.

## Directory Structure

The directory structure maps to the taxonomy categories. Keep synchronized:

| Directory | Taxonomy Alignment | Purpose |
|-----------|-------------------|---------|
| `fundamentals/` | Â§2 Application & Software Architecture | Design patterns, architectural styles (Layered, Hexagonal, Clean) |
| `distributed-systems/` | Â§3 Integration & Communication | Event-driven architecture, messaging patterns, CQRS, Sagas |
| `domain-driven-design/` | Â§2.1 + Strategic Design | Bounded contexts, aggregates, event storming |
| `language-selection/` | Â§2 Application & Software Architecture | Language and technology choice criteria, case studies |
| `networking/` | Â§5.2 Infrastructure | Network architecture patterns (hub-spoke) |
| `security/` | Â§6 Security Architecture | Zero Trust, IAM, encryption patterns |
| `observability/` | Â§7.3 Observability Architecture | Logging, metrics, distributed tracing |
| `reference/` | Meta / Cross-cutting | **Taxonomies and canonical references** |

### Taxonomy Section Mapping

```
architecture-general/
â”œâ”€â”€ fundamentals/           â†’ Taxonomy Â§2 (Application & Software)
â”‚   â”œâ”€â”€ design-patterns/    â†’ Â§2.1 Application Architecture Styles
â”‚   â””â”€â”€ architectural-styles/
â”œâ”€â”€ distributed-systems/    â†’ Taxonomy Â§3 (Integration & Communication)
â”‚   â”œâ”€â”€ event-driven/       â†’ Â§3.3 Event-Driven & Messaging
â”‚   â””â”€â”€ messaging-patterns/ â†’ Â§3.3 Messaging Delivery Patterns
â”œâ”€â”€ domain-driven-design/   â†’ Taxonomy Â§2 + Strategic DDD
â”œâ”€â”€ language-selection/     â†’ Taxonomy Â§2 (Application & Software)
â”‚   â””â”€â”€ case-studies/       â†’ Real-world language choice decisions
â”œâ”€â”€ networking/             â†’ Taxonomy Â§5.2 Infrastructure
â”œâ”€â”€ security/               â†’ Taxonomy Â§6 Security Architecture
â”œâ”€â”€ observability/          â†’ Taxonomy Â§7.3 Observability
â””â”€â”€ reference/              â†’ Taxonomy source + cross-cutting
```

## Content Guidelines

### Taxonomy Synchronization Rules

1. **New directories** must map to a taxonomy section
2. **New documents** should reference their taxonomy category
3. **Terminology** must match taxonomy definitions
4. **Updates to taxonomy** require review of affected directories

### Cloud-Agnostic Approach

When documenting patterns:
1. **Focus on concepts**, not specific implementations
2. **Use generic terminology**: "message broker" not "Service Bus"
3. **Provide examples** from multiple platforms when relevant
4. **Link to platform-specific** docs for implementation details
5. **Reference taxonomy section** for classification

### Pattern Documentation Template

```markdown
# Pattern Name

> **Taxonomy Reference**: Â§X.X Category Name (see [architecture_taxonomy_reference.md](10-practicality-taxonomy/architecture_taxonomy_reference.md))

## Problem
What problem does this pattern solve?

## Solution
How does this pattern address the problem?

## Abstraction Level
<!-- From Taxonomy Â§10 -->
- [ ] Conceptual (Strategic)
- [ ] Logical (Design)
- [ ] Physical (Implementation)
- [ ] Runtime (Operational)

## When to Use
- Scenario 1
- Scenario 2

## When NOT to Use
- Anti-pattern scenario

## Implementation Considerations
Platform-agnostic guidance

## Related Patterns
- Pattern A (Â§X.X)
- Pattern B (Â§X.X)

## Platform-Specific Implementations
- [Azure Implementation](../architecture-azure/) <!-- Link to specific Azure doc -->
- AWS Implementation (if applicable)
```

## Key Topics (Taxonomy Aligned)

### Fundamentals (Â§2 Application & Software Architecture)
- **Design Patterns**: Creational, Structural, Behavioral
- **Architectural Styles**: Monolithic, Modular Monolith, Layered, Clean, Hexagonal, N-Tier
- **Reliability Patterns**: Circuit Breaker, Retry, Bulkhead (Â§7.1)

### Distributed Systems (Â§3 Integration & Communication)
- **Messaging Patterns**: Pub/Sub, Point-to-Point, Request/Reply (Â§3.3)
- **Event-Driven Architecture**: Event Sourcing, CQRS, Saga/Choreography (Â§3.3)
- **Operational Patterns**: Dead Letter Queue, Competing Consumers, Message Deduplication (Â§3.3)

### Domain-Driven Design
- **Strategic Design**: Bounded Contexts, Context Mapping
- **Tactical Design**: Aggregates, Entities, Value Objects
- **Event Storming**: Workshops and modeling techniques

### Observability (Â§7.3 Observability Architecture)
- **Three Pillars**: Logging, Metrics, Distributed Tracing
- **Monitoring Strategies**: RED method, USE method
- **Alerting**: Best practices and anti-patterns

### Security (Â§6 Security Architecture)
- **Authentication**: OAuth 2.0, OpenID Connect, SAML (Â§6.2)
- **Authorization**: RBAC, ABAC, Policy-based
- **Zero Trust**: Principles and implementation (Â§6.1)

## Diagram Standards

Use Mermaid with consistent styling:

### Sequence Diagrams
```mermaid
sequenceDiagram
    participant C as Client
    participant S as Service
    participant D as Database
    C->>S: Request
    S->>D: Query
    D-->>S: Result
    S-->>C: Response
```

### Architecture Diagrams
```mermaid
graph TB
    subgraph "Presentation"
        A[Web App]
    end
    subgraph "Business"
        B[API Gateway]
        C[Service A]
        D[Service B]
    end
    subgraph "Data"
        E[(Database)]
        F[(Cache)]
    end
    A --> B
    B --> C
    B --> D
    C --> E
    D --> F
```

## Cross-References

When a concept has an Azure-specific implementation:
```markdown
> **Azure Implementation**: See [Azure Event Hubs](../architecture-azure/integration/event-hubs/) for Azure-specific details.
```

## Terminology Standards

Use terminology from **[Architecture Taxonomy Â§11](10-practicality-taxonomy/architecture_taxonomy_reference.md)** and consistent definitions:

| Term | Definition | Taxonomy Ref |
|------|------------|--------------|
| Message Broker | Service that handles message routing between publishers and subscribers | Â§3.3 |
| Event | Immutable fact about something that happened | Â§3.3 |
| Command | Request to perform an action | Â§3.3 CQRS |
| Query | Request for information | Â§3.3 CQRS |
| Aggregate | DDD concept - cluster of domain objects treated as a unit | Â§2 |
| Event Sourcing | Store state as sequence of events | Â§3.3 |
| Saga | Distributed transaction pattern using compensating actions | Â§3.3 |

## Abstraction Levels (Â§10 Practicality Taxonomy)

When documenting, specify the abstraction level:

| Level | Focus | Horizon | Audience |
|-------|-------|---------|----------|
| **Conceptual** | Business intent & capabilities | 3â€“5+ years | Executives, Business Stakeholders |
| **Logical** | Components & patterns | 1â€“3 years | Architects, Tech Leads |
| **Physical** | Technologies & configurations | Weeksâ€“12 months | Engineers, DevOps |
| **Runtime** | Live state & operations | Real-time | SRE, Operations |

## Quality Standards

- Include **real-world use cases** for each pattern
- Provide **decision trees** for choosing between similar patterns
- Add **trade-off analysis** (pros/cons tables)
- Include **failure scenarios** and how patterns handle them
- **Reference taxonomy sections** for categorization
- **Keep synchronized** with taxonomy updates
